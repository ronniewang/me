= 上线流程
:nofooter:

为了将出错的影响降到最低，根据机房请求量的多少从小到大依次上线，出错可立即回滚，顺序如下
* jylt
* bjdxt
* bjlt
* bjdx

每个机房所有机器可分两次或三次上线，一次上线2-3台机器，步骤如下

[ ] 在qlb上将待上线机器改为backup
* [ ] 查看access_log确认qlb已经没有请求转发到该机器
[ ] jenkins部署
* [ ] 确认操作机房是否正确
* [ ] 确认机器参数是否正确
* [ ] 确认部署是否成功
[ ] 测试
* [ ] 确认shorten接口可以正常返回
* [ ] 确认shorten返回的短域名在刚上线的机器上可以正常redirect
* [ ] 确认shorten返回的短域名在未上线的机器上可以正常redirect
[ ] 将qlb的backup改回上线状态
* [ ] 确认已经有请求被转发到这台机器

此流程无停机时间，不影响线上业务

